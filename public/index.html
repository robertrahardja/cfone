<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Hello, World!</title>
	</head>
	<body>
		<h1 id="heading"></h1>
		hello ther
		<p>This page comes from a static asset stored at `public/index.html` as configured in `wrangler.jsonc`.</p>
		<button id="button" type="button">Fetch a random UUID</button>
		<output id="random" for="button"></output>

		<div style="margin-top: 20px">
			<button id="helloButton" type="button">Call Hello World Function</button>
			<p id="helloResult" style="margin-top: 10px; font-weight: bold"></p>
		</div>

		<script>
			fetch('/message')
				.then((resp) => resp.text())
				.then((text) => {
					const h1 = document.getElementById('heading');
					h1.textContent = text;
				});

			const button = document.getElementById('button');
			button.addEventListener('click', () => {
				fetch('/random')
					.then((resp) => resp.text())
					.then((text) => {
						const random = document.getElementById('random');
						random.textContent = text;
					});
			});

			const helloButton = document.getElementById('helloButton');
			helloButton.addEventListener('click', () => {
				fetch('/helloworld')
					.then((resp) => resp.text())
					.then((text) => {
						const result = document.getElementById('helloResult');
						result.textContent = text;
					})
					.catch((error) => {
						const result = document.getElementById('helloResult');
						result.textContent = 'Error: ' + error.message;
					});
			});
		</script>
	</body>
</html>
